<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: geocoding | geoMusings]]></title>
  <link href="http://blog.geomusings.com/blog/categories/geocoding/atom.xml" rel="self"/>
  <link href="http://blog.geomusings.com/"/>
  <updated>2013-07-28T11:55:39-04:00</updated>
  <id>http://blog.geomusings.com/</id>
  <author>
    <name><![CDATA[Bill Dollins]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Mapping GISP and PMP Certifications with GeoCommons and the ESRI Silverlight API]]></title>
    <link href="http://blog.geomusings.com/2011/02/02/mapping-gisp-and-pmp-certifications-with-geocommons-and-the-esri-silverlight-api/"/>
    <updated>2011-02-02T00:00:00-05:00</updated>
    <id>http://blog.geomusings.com/2011/02/02/mapping-gisp-and-pmp-certifications-with-geocommons-and-the-esri-silverlight-api</id>
    <content type="html"><![CDATA[<p>Note: The application described in this post is running <a href="http://demo.zekiah.com/heatmap">here</a>. It requires Silverlight 4.</p>

<p>I was perusing my <a href="http://www.linkedin.com">LinkedIn</a> connections and noticed that quite a few had <a href="http://en.wikipedia.org/wiki/Project_Management_Professional">PMP</a> certifications. I also noticed that most of those who did seemed to be in the Washington, DC area. Of course, given that I live in that region, my sample could be a bit skewed but then I started <a href="http://twitter.com/#!/billdollins/status/30277725008699392">thinking out loud</a> (via Twitter):</p>

<blockquote>I would love to see a heat map showing concentrations of PMPs. I bet the DC area would be white-hot. I suspect others not so much.</blockquote>


<p>Naturally, I could not let this sit. How hard could it be? It turns out it wasn't that hard so I decided to throw a small app together to look at the data. In the process of working out an approach, I decided to also look at <a href="http://www.gisci.org/certification_program_description.aspx">GISP</a> certifications because the data set is smaller and is available as one download from the <a href="http://www.gisci.org/">GISCI</a>. Here's a blow-by-blow:</p>

<!--more-->


<p><strong>Preparing the data</strong></p>

<p>Both the GISCI and <a href="http://www.pmi.org">PMI</a> maintain registries of current certification holders. In the case of the GISCI, the registry is available as a single download, if needed, so I grabbed the current list of certified GISPs (as of January 26, 2011). I only cared about location and date (which I'll make use of in the future) so I stripped out all of the names. Then I deleted all of the non-US records (to keep my geocoding easy). That left me with city, state and date. To geocode the data, I uploaded it to <a href="http://www.geocommons.com">GeoCommons</a>. I have <a href="http://geobabble.wordpress.com/2010/10/06/geocoding-with-geocommons/">blogged about this capability previously</a> but this was a larger data set (and only required matching cities). The processing took about 20 seconds and only missed about 75 records out of about about 4500 records. The majority of the missed locations were APO/FPO addresses so I just removed those records. Once that was done, I left the data up on GeoCommons where <a href="http://geocommons.com/overlays/87503">it's still available</a>.</p>

<p>For the PMP data the basic process was the same but getting the data was a little trickier. The PMI doesn't offer a single download so I had to use their query tool to query US records my the first letter of the last name. The query tool returns a maximum of 1000 records so I ended up with about 24,000 records ("Q", "X" and "Z" don't have 1000 records). I pieced this together in Excel, stripped out the names and ended up with the same information I had for the GISP data. In this case, the data set is not complete but I felt like it probably was still representative of the geographic dispersion of certification holders so I went forward.</p>

<p>The PMP data set was too large to upload and geocode on GeoCommons (which caps geocoding at 5000 records). Fortunately, Kate and <a href="http://www.fortiusone.com">FortiusOne</a> was gracious enough to geocode it for me (I wanted to use the same geocoder for both data sets). After a little cleanup, <a href="http://geocommons.com/overlays/87707">I posted that one to GeoCommons as well</a>.</p>

<p><strong>Mapping the data</strong></p>

<p>I wanted to use a heat map to show the data (for no particular reason). There are numerous ways to accomplish this but I chose to use the <a href="http://help.arcgis.com/en/webapi/silverlight/index.html">ESRI ArcGIS API for Silverlight</a>. I made this choice primarily because a lot of my project work right now involves it so the tools are at my fingertips. Also, it has a HeatMapLayer class which I had not had a chance to try yet.</p>

<p>So I set up a simple mapping application and, at runtime, I load the data from GeoCommons and populate each heat map layer with the points from the appropriate data set. In this case I loaded the data as CSV (which is one of the data options on GeoCommons) by making the appropriate call to the GeoCommons API. I chose CSV because I only needed the latitude and longitude of each location and CSV was actually the least wordy transmission mode. I parsed the data using the <a href="http://kbcsv.codeplex.com/">KBCsv</a> parser available on CodePlex. I could have also loaded the data as GeoJSON and used <a href="http://json.codeplex.com/">JSON.Net</a> or Vish's outstanding <a href="http://viswaug.wordpress.com/2008/05/11/geojsonnet-a-net-library-to-produce-geojson-output/">GeoJSON.Net</a> library but CSV suited my needs in this case. Here is a screen shot showing the GISP data.</p>

<p><a href="http://geobabble.files.wordpress.com/2011/02/gisp_heatmap1.png"><img alt="" class="alignleft size-full wp-image-1484" height="242" src="http://geobabble.files.wordpress.com/2011/02/gisp_heatmap1.png" title="GISP Heat Map" width="590" /></a></p>

<p><strong>Reading the data</strong></p>

<p>So, did the data confirm the suspicion from my original tweet? Yes. The ESRI API calculates heat map intensity based upon the data that is visible in the current map extent. When you zoom out to the whole nation, you can clearly see that the highest concentration of both certifications, by far, is in the Washington, DC area. If you zoom in more and pan around, the mapping adjusts itself so you can get a better representation of other areas by zooming in to them (and away from DC). You can also adjust the display with the intensity tool to bring out some local variations.</p>

<p>What doesn't come across well is relative scale. There are a lot more PMPs than GISPs but that doesn't show well in this presentation. That's why I chose to put a toggle on the map because there's very little value in seeing the two data sets overlaid.</p>

<p>All told, it took about two hours to get the core of the application in place and maybe about another hour to tidy things up. With GeoCommons, it literally took longer to prep the data than to geocode it and the native heat mapping capability of the ESRI Silverlight API was extremely easy to use. The Silverlight implementation shuts out most mobile users and anyone on Linux (Moonlight is not yet Silverlight 4 compatible) so, for those reasons, I'll continue to explore more standards-based approaches but this combination of tools certainly helped me answer my question quickly.</p>

<p>This application is currently being served up live at <a href="http://demo.zekiah.com/heatmap">demo.zekiah.com/heatmap</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Geocoding with GeoCommons]]></title>
    <link href="http://blog.geomusings.com/2010/10/06/geocoding-with-geocommons/"/>
    <updated>2010-10-06T00:00:00-04:00</updated>
    <id>http://blog.geomusings.com/2010/10/06/geocoding-with-geocommons</id>
    <content type="html"><![CDATA[<p>One of the new features included in the latest release of <a href="http://www.geocommons.com">GeoCommons</a> is geocoding. Previous releases have provided the ability to upload non-spatial data (such as CSV files) and walk through a wizard-like interface to join that data with existing spatial data sets already in GeoCommons. This latest release brings the <a href="http://geocommons.com/help/FortiusOne_Geocoder">FortiusOne Geocoder</a> to bear to give you the ability to upload data containing US addresses and generate point locations. In my opinion, this is a very powerful addition to GeoCommons. <!--more--></p>

<p>So, I decided to give it a spin. Since GeoCommons is open to the public, I decided to use some data that I wouldn't mind making available. I went to the Wawa web site and made a CSV of the <a href="http://www.wawa.com">Wawa</a> stores in my county (there are only five). These are locations that are well-known to me so they suited my purposes. It's a truism that even the best geocoders generally yield the "mailbox location" of the addresses fed into them. This becomes fairly obvious is in rural areas such as where I live.</p>

<p>So, here's the CSV I started with:</p>

<p>city,zip,store,address,state
"Lexington Park","20653","579","21265 Great Mills Road","MD"
"Mechanicsville","20659","583","27605 Three Notch Road","MD"
"Lexington Park","20653","587","22530 Three Notch Road","MD"
"Charlotte Hall","20622","588","30320 Three Notch Road","MD"
"California","20619","592","23141 Three Notch Road","MD"</p>

<p>After I logged into GeoCommons, I went through the upload process like so:</p>

<p>First, I clicked "Upload Files" and navigated to my CSV.</p>

<p><a href="http://geobabble.files.wordpress.com/2010/10/gc1.png"><img alt="" class="aligncenter size-full wp-image-1251" src="http://geobabble.files.wordpress.com/2010/10/gc1.png" title="GeoCommons uploader" /></a></p>

<p>Once it was uploaded, I clicked "Next" to start processing.</p>

<p><a href="http://geobabble.files.wordpress.com/2010/10/gc2.png"><img alt="" class="aligncenter size-full wp-image-1252" src="http://geobabble.files.wordpress.com/2010/10/gc2.png" title="File confirmation" /></a></p>

<p>After I clicked through an intermediary screen, I was brought here, where I chose the "Geocode" option.</p>

<p><a href="http://geobabble.files.wordpress.com/2010/10/gc3.png"><img alt="" class="aligncenter size-full wp-image-1253" height="237" src="http://geobabble.files.wordpress.com/2010/10/gc3.png" title="Geolocation options" width="500" /></a></p>

<p>GeoCommons recognized my address columns so I just chose "Continue." Otherwise, I could have customized the processing.</p>

<p><a href="http://geobabble.files.wordpress.com/2010/10/gc4.png"><img alt="" class="aligncenter size-full wp-image-1254" src="http://geobabble.files.wordpress.com/2010/10/gc4.png" title="Confirm columns or customize" /></a></p>

<p>Then, it worked for a while (maybe a minute) and then showed me the geocoding results. You will see two new columns added to the data, those are explained in the <a href="http://geocommons.com/help/FortiusOne_Geocoder">GeoCommons API docs</a>.</p>

<p><a href="http://geobabble.files.wordpress.com/2010/10/gc5.png"><img alt="" class="aligncenter size-full wp-image-1255" height="222" src="http://geobabble.files.wordpress.com/2010/10/gc5.png" title="Geocoding results" width="500" /></a></p>

<p>After this, I edited the metadata and my data set was geocoded. Here is a link to the resulting KML: <a href="http://geocommons.com/overlays/66341.kml">http://geocommons.com/overlays/66341.kml</a></p>

<p>And the results? As I said, living in a rural area can play games with geocoders. We have farms with very large road frontage as well as houses set as much as a half-mile back from the road. It's very hard to get an exact location. I don't have screen shots (because I don't want to risk running afoul of anyone's license), but I will say that in each case, GeoCommons was an exact match <em>or closer</em> to the corresponding result in <a href="http://maps.google.com">Google Maps</a>.</p>

<p>I will need to run more tests with more diverse data, but these results were encouraging with data that I know well. Additionally, the FortiusOne geocoder is open-source software. This means that I can set it up (with supporting data) inside the environment of a customer who may not want to make their data public and potentially achieve similar results.</p>

<p>I will definitely be playing with this more but it made a good first impression, especially given the simplicity of the process.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ArcSDE Geocoding Services Deprecated at 9.3]]></title>
    <link href="http://blog.geomusings.com/2008/08/01/arcsde-geocoding-services-deprecated-at-93/"/>
    <updated>2008-08-01T00:00:00-04:00</updated>
    <id>http://blog.geomusings.com/2008/08/01/arcsde-geocoding-services-deprecated-at-93</id>
    <content type="html"><![CDATA[<p>This isn't a huge surprise but <a href="http://support.esri.com/index.cfm?fa=knowledgebase.documentation.viewDoc&amp;PID=66&amp;MetaID=1430">this announcement</a> made it official a couple of days ago.</p>

<p>Basically, you'll need to use ArcGIS Server's server-side geocoding because the next release of ArcSDE won't include it. The PDF attached to the announcement gives more detail. I know we had moved away from ArcSDE geocoding some time ago because it didn't hold up to the load we were putting on it. We used Oracle Spatial instead.</p>

<p>But, if you've got any apps that are still using ArcSDE for geocoding, now's the time the transition.</p>
]]></content>
  </entry>
  
</feed>
