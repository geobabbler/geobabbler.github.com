
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>geoMusings</title>
  <meta name="author" content="Bill Dollins">

  
  <meta name="description" content="I&#8217;m still playing around with zigGIS and I have noticed that it doesn&#8217;t seem to play well when I define the spatial reference of a data &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="generator" content="Octopress 2.0" />

  
  <link rel="canonical" href="http://blog.geomusings.com/blog/page/37/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="geoMusings" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">geoMusings</a></h1>
  
    <h2>geospatial technologies and practices</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.geomusings.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/samples">Samples</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/21/ziggis-and-spatial-references/">zigGIS and Spatial References</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-21T00:00:00-05:00" pubdate data-updated="true">Dec 21<span>st</span>, 2006</time>
        
         | <a href="/2006/12/21/ziggis-and-spatial-references/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m still playing around with zigGIS and I have noticed that it doesn&#8217;t seem to play well when I define the spatial reference of a data set in PostGIS. Any data set that has a defined spatial reference fails to draw in ArcMap. In addition, the layer properties always indicate that the coordinate system is undefined, whether on exists or not. This leads me to belienve that zigGIS is not handling the spatial references well.</p>

<p><a href="http://geobabble.files.wordpress.com/2006/12/where_are_my_states.png"><img src="http://geobabble.files.wordpress.com/2006/12/where_are_my_states.thumbnail.png" /></a></p>

<p>As you can see, the dtl_st layer does not draw in ArcMap. I imported it into PostGIS using shp2pgsql with an SRID of 4326 (WGS84). The others layers were loaded with an SRID of -1.</p>

<p><a href="http://geobabble.files.wordpress.com/2006/12/there_they_are.png"><img src="http://geobabble.files.wordpress.com/2006/12/there_they_are.thumbnail.png" /></a></p>

<p>As shown, the layer draws fine in QGIS. I will need to dig into the zigGIS code a little more to see about this one.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/17/postgis-and-arcgis-9.1/">PostGIS and ArcGIS 9.1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-17T00:00:00-05:00" pubdate data-updated="true">Dec 17<span>th</span>, 2006</time>
        
         | <a href="/2006/12/17/postgis-and-arcgis-9.1/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been intrigued for some time by an open-source (GPL) project out there called <a href="http://code.google.com/p/ziggis/">zigGIS</a>. It is a C# project that enables a direct read of PostGIS by ArcGIS. It is intriguing for a couple of reasons. First is the promise of reading directly from PostGIS and working with your data in ArcMap without the need to create intermediate shapefiles or some other ESRI-friendly data format. Second is the fact that the project is a good example of the &#8220;correct&#8221; way to extend data support in ArcGIS. That&#8217;s to say the authors built the necessary workspace, feature class, and cursor objects to behave like any other set of geodatabase objects. As an ArcObjects developer, having a working example of this, with source code, was irresistable.</p>

<p>I had originally downloaded it about a year ago but let it sit because it only supported ArcGIS 8.x. I recently went back to it discover an updated version but still only 8.x support. I had a little more time on my hands this time and decided to do the upgrade to 9.1 myself.</p>

<p>The ArcObjects upgrade was fairly painless but I&#8217;ve done that a few times now. I found the documentation to be a little thin on some of the project&#8217;s dependencies. Specifically, there are several external open-source projects that zigGIS is dependent upon: log4net, npgsql, nini. While the readme specifies these, it doesn&#8217;t mention version numbers. This created the greatest issue with npgsql due to the fact that the zigGIS developers build a custom version for zigGIS.</p>

<p>The install instructions indicate that you should get npgsql from the pgFoundry and then replace the DLL with custom one for zigGIS. The problem arose from the fact that npgsql has been updated and it also has a dependency on Mono.Security.dll. The latest version of npgsql.dll uses version 2.0 of Mono.Security.dll but the version used by zigGIS uses version 1.0.5 of Mono.Security.</p>

<p>Once I sorted this out, I used the ESRI developer tools to remove references to ESRI.ArcObjects.Core and replace them with the necessary 9.1 libraries. ZigGIS comes with a VS2005 solution but I highly recommend following the developers&#8217; instructions and using nant to do your build. They provide their build script and it needs to be updated for 9.1 but it works great. The cursor and geodatabase projects introduce the kind of circular references that Visual Studio doesn&#8217;t like but that nant handles nicely.</p>

<p><a href="http://geobabble.files.wordpress.com/2006/12/postgis_arcmap.png"><img alt="POSTGIS Data in ArcMap with identify window." border="0" src="http://geobabble.files.wordpress.com/2006/12/postgis_arcmap.thumbnail.png" style="float: left; cursor: hand; margin: 0 10px 10px 0;" /></a> After I got the project to build, I was able to access data directly from PostGIS. This screen shot shows a sample data set in ArcMap. I&#8217;m running PostgreSQL 8.2 with PostGIS 1.2.0 on a Windows XP box. I loaded this data into PostGIS using the shp2pgsql utility that ships with PostGIS. The utility of zigGIS is readily apparent but its approach holds wider promise. There are numerous other data sources and open-source projects that could be integrated using the approach the zigGIS team has laid out here. <a href="http://mitab.maptools.org/">MITAB</a> is one that springs to mind.</p>

<p>Despite some of the issues I had with the build process, I got the project up and running in less than a day. Given the results, that seems like a worthy investment of time.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/02/good-article-on-optimizing-open-source-software/">Good Article on Optimizing Open-Source Software</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-02T00:00:00-05:00" pubdate data-updated="true">Dec 2<span>nd</span>, 2006</time>
        
         | <a href="/2006/12/02/good-article-on-optimizing-open-source-software/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There&#8217;s been a lot of recent buzz about open-source GIS software. Good discussions can be found at <a href="http://www.spatiallyadjusted.com/category/open-source/" target="blank">James Fee&#8217;s site</a>, plus <a href="http://gispro.wordpress.com/" target="blank">Datum Shift</a> as well as on <a href="http://blog.davebouwman.net/default.aspx" target="blank">Dave Bouwman&#8217;s blog</a>.</p>

<p>Given all of this discussion, I found this <a href="http://www.ddj.com/dept/opensource/193501014;jsessionid=ZNJIVAZ2NVHSQQSNDLOSKH0CJUNN2JVN" target="blank">article</a> in <a href="http://www.ddj.com" target="blank">Dr. Dobb&#8217;s Journal </a>to be rather timely. It&#8217;s not about GIS software <em>per se </em>but it&#8217;s definitely relevant.</p>

<p>DDJ has undergone some changes of late but I still find it incredibly informative. That said, I still miss opening it up to find <a href="http://www.regdeveloper.co.uk/verity_stob/" target="blank">Verity Stob</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2006/12/01/irasterlayer-export-gotcha-in-9.2/">IRasterLayer Export Gotcha in 9.2</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2006-12-01T00:00:00-05:00" pubdate data-updated="true">Dec 1<span>st</span>, 2006</time>
        
         | <a href="/2006/12/01/irasterlayer-export-gotcha-in-9.2/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Not long ago, I was working on a project that required us to convert our rasters from their native format (mostly CADRG) to TIFF. We need to do do this because we were viewing them in a .NET 3.0 WPF control so we needed a format it could recognize.</p>

<p>At the outset, we were using Engine 9.1 and settled upon using the IRasterLayerExport.Export method. The choice of TIFF was driven by the fact that, at 9.1, it was the only output format this method supported that could be read by WPF. Everything worked fine. For those of you unfamiliar with this method, here is our call (abridged):</p>

<pre><code>        rasterLayerExport = new RasterLayerExportClass();
        rasterLayerExport.RasterLayer = exportRasterLayer;
        rasterLayerExport.Force2RGB = true;
        rasterLayerExport.Export((IWorkspace)ws, outputName, "TIFF");
</code></pre>

<p>About half-way through (for a number of reasons), we upgraded to 9.2. It was at this point that we noticed that the TIFFs we were generating were no longer readable by WPF. After some research, we discovered that, instaed of a standard TIFF, this method now exports a GeoTIFF. The extra header information throws off WPF.</p>

<p>The good news? The IRasterLayerExport.Export method now supports many more output formats. We updated our code to export out to PNG and kept going.</p>

<p>All in all, I think the changes to this method are a net plus but I wanted to share that little gotcha. If you&#8217;ve been using it to export to external graphic applications, you&#8217;ll want to do some testing.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/36/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-2600437314795269";
/* geoMusings - GIS */
google_ad_slot = "1381808721";
google_ad_width = 250;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</section>
<section>

<a href="http://twitter.com/billdollins"><img src="/images/twitter.png" width="32" height="32" alt="View my Twitter profile"></a>&nbsp;


<a href="http://www.linkedin.com/in/billdollins"><img src="/images/linkedin.png" width="32" height="32" alt="View LinkedIn profile of Bill Dollins"></a>&nbsp;


<a href="https://plus.google.com/103048542132426664956?rel=author"><img src="/images/gplus.png" width="32" height="32"></a>&nbsp;


<a href="http://www.facebook.com/pages/GeoMusings/304146182966988"><img src="/images/fb.png" width="32" height="32" alt="Follow my Facebook page"></a>&nbsp;


<a href="https://github.com/geobabbler"><img src="/images/github32.png" width="32" height="32" alt="View my profile on GitHub"></a>&nbsp;

</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/08/26/maryland-council-on-open-data/">Maryland Council on Open Data</a>
      </li>
    
      <li class="post">
        <a href="/2014/07/31/js-dot-geo-2014-locked-in-solid/">JS.GEO 2014 Locked In Solid</a>
      </li>
    
      <li class="post">
        <a href="/2014/07/30/arcwhat-i-just-want-my-map/">ArcWhat? I Just Want My Map.</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("billdollins", 3, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/billdollins" class="twitter-follow-button" data-show-count="false">Follow @billdollins</a>
  
</section>

<section>
  <h1>Disclaimer</h1>
  <p>The information in this weblog is provided &#8220;AS IS&#8221; with no warranties, and confers no rights.
  <br/> <br/>
  This weblog does not represent the thoughts, intentions, plans or strategies of my employer. It is solely my opinion and probably incorrect.
  </p>
</section>
<section>
<img src="/images/geomusings.png" width="64" height="64" alt="View my Twitter profile">
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Bill Dollins -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  - <span class="credit">Theme by <a href="http://www.gehaxelt.in">Gehaxelt</a></span>
  <span class="credit">and <a href="http://www.it-solutions-neef.de">IT Solutions Neef</a></span>
  <!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=2901378; 
var sc_invisible=1; 
var sc_security="be706774"; 
</script>
<script type="text/javascript"
src="http://www.statcounter.com/counter/counter.js"></script>
<noscript><div class="statcounter"><a title="free web stats"
href="http://statcounter.com/free-web-stats/"
target="_blank"><img class="statcounter"
src="http://c.statcounter.com/2901378/0/be706774/1/"
alt="free web stats"></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->
<!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37240509-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- End of Google Analytics -->
<!-- MapStats -->
<script
type="text/javascript"
src="http://54.214.24.130/api/visits/2"></script>
<!-- End of MapStats -->
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'geomusings';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
